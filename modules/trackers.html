

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>trackers Package &mdash; BLonD 1.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="BLonD 1.1 documentation" href="../index.html"/>
        <link rel="next" title="compile Module" href="compile.html"/>
        <link rel="prev" title="toolbox Package" href="toolbox.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> BLonD
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="equations_of_motion.html">Equations of Motion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#definitions">Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#energy-kick">Energy kick</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#arrival-time-drift">Arrival time drift</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#the-synchronous-particle">The synchronous particle</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#small-amplitude-oscillations">Small-amplitude oscillations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="equations_of_motion.html#tracking-utilities">Tracking utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#hamiltonian">Hamiltonian</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#separatrix">Separatrix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="beam.html">beam Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.beam"><code class="docutils literal notranslate"><span class="pre">beam</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.coasting_beam"><code class="docutils literal notranslate"><span class="pre">coasting_beam</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.distributions"><code class="docutils literal notranslate"><span class="pre">distributions</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.distributions_multibunch"><code class="docutils literal notranslate"><span class="pre">distributions_multibunch</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.profile"><code class="docutils literal notranslate"><span class="pre">profile</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.sparse_slices"><code class="docutils literal notranslate"><span class="pre">sparse_slices</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="impedances.html">impedances Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="impedances.html#module-blond.impedances.impedance"><code class="docutils literal notranslate"><span class="pre">impedance</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="impedances.html#module-blond.impedances.impedance_sources"><code class="docutils literal notranslate"><span class="pre">impedance_sources</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="impedances.html#module-blond.impedances.induced_voltage_analytical"><code class="docutils literal notranslate"><span class="pre">induced_voltage_analytical</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="impedances.html#module-blond.impedances.music"><code class="docutils literal notranslate"><span class="pre">music</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="input_parameters.html">input_parameters Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="input_parameters.html#module-blond.input_parameters.rf_parameters"><code class="docutils literal notranslate"><span class="pre">rf_parameters</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="input_parameters.html#module-blond.input_parameters.ring"><code class="docutils literal notranslate"><span class="pre">ring</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="input_parameters.html#module-blond.input_parameters.ring_options"><code class="docutils literal notranslate"><span class="pre">ring_options</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="input_parameters.html#module-blond.input_parameters.rf_parameters_options"><code class="docutils literal notranslate"><span class="pre">rf_parameters_options</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="llrf.html">llrf Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#module-blond.llrf.notch_filter"><code class="docutils literal notranslate"><span class="pre">notch_filter</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#llrf-beam-feedback-module">llrf.beam_feedback Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="llrf.html#machine-dependent-beam-phase-loop">Machine-dependent Beam Phase Loop</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#module-blond.llrf.cavity_feedback"><code class="docutils literal notranslate"><span class="pre">cavity_feedback</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#module-blond.llrf.impulse_response"><code class="docutils literal notranslate"><span class="pre">impulse_response</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#module-blond.llrf.rf_modulation"><code class="docutils literal notranslate"><span class="pre">rf_modulation</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#llrf-rf-noise-module">llrf.rf_noise Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="llrf.html#rf-phase-noise-generation">RF phase noise generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="llrf.html#lhc-type-phase-noise-generation">LHC-type phase noise generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="llrf.html#bunch-length-based-feedback-on-noise-amplitude">Bunch-length based feedback on noise amplitude</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#module-blond.llrf.signal_processing"><code class="docutils literal notranslate"><span class="pre">signal_processing</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="monitors.html">monitors Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="monitors.html#module-blond.monitors.monitors"><code class="docutils literal notranslate"><span class="pre">monitors</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plots.html">plots Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot"><code class="docutils literal notranslate"><span class="pre">plot</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot_beams"><code class="docutils literal notranslate"><span class="pre">plot_beams</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot_impedance"><code class="docutils literal notranslate"><span class="pre">plot_impedance</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot_llrf"><code class="docutils literal notranslate"><span class="pre">plot_llrf</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot_parameters"><code class="docutils literal notranslate"><span class="pre">plot_parameters</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot_slices"><code class="docutils literal notranslate"><span class="pre">plot_slices</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="synchrotron_radiation.html">synchrotron_radiation Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="synchrotron_radiation.html#module-blond.synchrotron_radiation.synchrotron_radiation"><code class="docutils literal notranslate"><span class="pre">synchrotron_radiation</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="toolbox.html">toolbox Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.action"><code class="docutils literal notranslate"><span class="pre">action</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.convolution"><code class="docutils literal notranslate"><span class="pre">convolution</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.diffusion"><code class="docutils literal notranslate"><span class="pre">diffusion</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.next_regular"><code class="docutils literal notranslate"><span class="pre">next_regular</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.parameter_scaling"><code class="docutils literal notranslate"><span class="pre">parameter_scaling</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.tomoscope"><code class="docutils literal notranslate"><span class="pre">tomoscope</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">trackers Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-blond.trackers.tracker"><code class="docutils literal notranslate"><span class="pre">tracker</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-blond.trackers.utilities"><code class="docutils literal notranslate"><span class="pre">utilities</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="compile.html">compile Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="compile.html#id1"><code class="docutils literal notranslate"><span class="pre">compile</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">utils Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utils.html#module-blond.utils.bmath"><code class="docutils literal notranslate"><span class="pre">bmath</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html#module-blond.utils.bphysics_wrap"><code class="docutils literal notranslate"><span class="pre">bphysics_wrap</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html#module-blond.utils.butils_wrap"><code class="docutils literal notranslate"><span class="pre">butils_wrap</span></code> Module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>
    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BLonD</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>trackers Package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/trackers.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="trackers-package">
<h1>trackers Package<a class="headerlink" href="#trackers-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-blond.trackers.tracker">
<span id="tracker-module"></span><h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">tracker</span></code> Module<a class="headerlink" href="#module-blond.trackers.tracker" title="Permalink to this headline">¶</a></h2>
<p><strong>Module containing all the elements to track the RF frequency, voltage, phase,
and the beam coordinates in phase space.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body"><strong>Helga Timko</strong>, <strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="blond.trackers.tracker.FullRingAndRF">
<em class="property">class </em><code class="descclassname">blond.trackers.tracker.</code><code class="descname">FullRingAndRF</code><span class="sig-paren">(</span><em>RingAndRFSection_list</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.tracker.FullRingAndRF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p><em>Definition of the full ring and RF parameters in order to be able to have
a full turn information (used in the hamiltonian for example).</em></p>
<dl class="attribute">
<dt id="blond.trackers.tracker.FullRingAndRF.RingAndRFSection_list">
<code class="descname">RingAndRFSection_list</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.tracker.FullRingAndRF.RingAndRFSection_list" title="Permalink to this definition">¶</a></dt>
<dd><p><em>List of the total RingAndRFSection objects</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.tracker.FullRingAndRF.potential_well">
<code class="descname">potential_well</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.tracker.FullRingAndRF.potential_well" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Total potential well in [V]</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.tracker.FullRingAndRF.potential_well_coordinates">
<code class="descname">potential_well_coordinates</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.tracker.FullRingAndRF.potential_well_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Total potential well theta coordinates in [rad]</em></p>
</dd></dl>

<dl class="method">
<dt id="blond.trackers.tracker.FullRingAndRF.potential_well_generation">
<code class="descname">potential_well_generation</code><span class="sig-paren">(</span><em>turn=0</em>, <em>n_points=100000.0</em>, <em>main_harmonic_option='lowest_freq'</em>, <em>dt_margin_percent=0.0</em>, <em>time_array=None</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.tracker.FullRingAndRF.potential_well_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to generate the potential well out of the RF systems. The
assumption made is that all the RF voltages are averaged over one turn.
The potential well is then approximated over one turn, which is not the
exact potential. This approximation should be fine enough to generate a
bunch (the mismatch should be small and damped fast enough). The
default main harmonic is defined to be the lowest one in frequency. The
user can change this option if it is not the case for his simulations
(other options are: ‘highest_voltage’, or inputing directly the value
of the desired main harmonic). A margin on the time array can be
applied in order to be able to see the min/max that might be exactly on
the edges of the frame (by adding a % to the length of the frame, this
is set to 0 by default. It assumes also that the slippage factor is the
same in the whole ring.</p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.tracker.FullRingAndRF.ring_circumference">
<code class="descname">ring_circumference</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.tracker.FullRingAndRF.ring_circumference" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Ring circumference in [m]</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.tracker.FullRingAndRF.ring_radius">
<code class="descname">ring_radius</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.tracker.FullRingAndRF.ring_radius" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Ring radius in [m]</em></p>
</dd></dl>

<dl class="method">
<dt id="blond.trackers.tracker.FullRingAndRF.track">
<code class="descname">track</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.tracker.FullRingAndRF.track" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to loop over all the RingAndRFSection.track methods</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="blond.trackers.tracker.RingAndRFTracker">
<em class="property">class </em><code class="descclassname">blond.trackers.tracker.</code><code class="descname">RingAndRFTracker</code><span class="sig-paren">(</span><em>RFStation</em>, <em>Beam</em>, <em>solver='simple'</em>, <em>BeamFeedback=None</em>, <em>NoiseFeedback=None</em>, <em>CavityFeedback=None</em>, <em>periodicity=False</em>, <em>interpolation=False</em>, <em>Profile=None</em>, <em>TotalInducedVoltage=None</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.tracker.RingAndRFTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class taking care of basic particle coordinate tracking for a given
RF station and the part of the ring until the next station, see figure.</p>
<a class="reference internal image-reference" href="../_images/ring_and_RFstation.png"><img alt="../_images/ring_and_RFstation.png" class="align-center" src="../_images/ring_and_RFstation.png" style="width: 600px; height: 600px;" /></a>
<p>The time step is fixed to be one turn, but the tracking can consist of
multiple RingAndRFTracker objects. In this case, the user should make sure
that the lengths of the stations sum up exactly to the circumference or use
the FullRingAndRF object in order to let the code pre-process the
parameters. Each RF station may contain several RF harmonic systems which
are considered to be in the same location. First, the energy kick of the RF
station is applied, and then the particle arrival time to the next station
is updated. The change in RF phase, voltage, and frequency due to control
loops is tracked as well.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>RFStation</strong> (<em>class</em>) – A RFStation type class</li>
<li><strong>counter</strong> (<em>[</em><em>int</em><em>]</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.RFStation.counter</span></code></li>
<li><strong>length_ratio</strong> (<em>float</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.length_ratio</span></code></li>
<li><strong>section_length</strong> (<em>float</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.section_length</span></code></li>
<li><strong>t_rev</strong> (<em>float</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.t_rev</span></code></li>
<li><strong>n_rf</strong> (<em>float</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.RFStation.n_rf</span></code></li>
<li><strong>beta</strong> (<em>float</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.beta</span></code></li>
<li><strong>charge</strong> (<em>float</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.Particle.charge</span></code></li>
<li><strong>harmonic</strong> (<em>float array</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.RFStation.harmonic</span></code></li>
<li><strong>voltage</strong> (<em>float array</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.RFStation.voltage</span></code></li>
<li><strong>phi_noise</strong> (<em>float array</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.RFStation.phi_noise</span></code></li>
<li><strong>phi_rf</strong> (<em>float array</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.RFStation.phi_rf</span></code></li>
<li><strong>phi_s</strong> (<em>float array</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.RFStation.phi_s</span></code></li>
<li><strong>eta_0</strong> (<em>float array</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.eta_0</span></code></li>
<li><strong>eta_1</strong> (<em>float array</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.eta_1</span></code></li>
<li><strong>eta_2</strong> (<em>float array</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.eta_2</span></code></li>
<li><strong>alpha_order</strong> (<em>float array</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.alpha_order</span></code></li>
<li><strong>acceleration_kick</strong> (<em>float array</em>) – Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.delta_E</span></code>
and multiplied by -1</li>
<li><strong>Beam</strong> (<em>class</em>) – A Beam type class</li>
<li><strong>solver</strong> (<em>str</em>) – Type of solver used for the drift equation; use ‘simple’ for 1st order
approximation and ‘exact’ for exact solver</li>
<li><strong>BeamFeedback</strong> (<em>class</em><em> (</em><em>optional</em><em>)</em>) – A BeamFeedback type class, beam-based feedback on RF frequency;
default is None</li>
<li><strong>NoiseFeedback</strong> (<em>class</em><em> (</em><em>optional</em><em>)</em>) – A NoiseFeedback type class, bunch-length feedback on RF noise;
default is None</li>
<li><strong>periodicity</strong> (<em>bool</em><em> (</em><em>optional</em><em>)</em>) – Option to switch periodic solver on/off; default is False (off)</li>
<li><strong>interpolation</strong> (<em>bool</em><em> (</em><em>optional</em><em>)</em>) – Option to use sliced and interpolated voltage for the kicker; default
is False</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="blond.trackers.tracker.RingAndRFTracker.drift">
<code class="descname">drift</code><span class="sig-paren">(</span><em>beam_dt</em>, <em>beam_dE</em>, <em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.tracker.RingAndRFTracker.drift" title="Permalink to this definition">¶</a></dt>
<dd><p>Function updating the particle arrival time to the RF station
(drift). If only the zeroth order slippage factor is given, ‘simple’
and ‘exact’ solvers are available. The ‘simple’ solver is somewhat
faster. Otherwise, the solver is automatically ‘exact’ and calculates
the frequency slippage up to second order. The corresponding equations
are:</p>
<div class="math notranslate nohighlight">
\[\Delta t^{n+1} = \Delta t^{n} + \frac{L}{C} T_0^{n+1} \left(\frac{1}{1 - \eta(\delta^{n+1})\delta^{n+1}} - 1\right) \quad \text{(exact)}\]</div>
<div class="math notranslate nohighlight">
\[\Delta t^{n+1} = \Delta t^{n} + \frac{L}{C} T_0^{n+1}\eta_0\delta^{n+1} \quad \text{(simple)}\]</div>
</dd></dl>

<dl class="method">
<dt id="blond.trackers.tracker.RingAndRFTracker.kick">
<code class="descname">kick</code><span class="sig-paren">(</span><em>beam_dt</em>, <em>beam_dE</em>, <em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.tracker.RingAndRFTracker.kick" title="Permalink to this definition">¶</a></dt>
<dd><p>Function updating the particle energy due to the RF kick in a given
RF station. The kicks are summed over the different harmonic RF systems
in the station. The cavity phase can be shifted by the user via
phi_offset. The main RF (harmonic[0]) has by definition phase = 0 at
time = 0 below transition. The phases of all other RF systems are
defined w.r.t.to the main RF. The increment in energy is given by the
discrete equation of motion:</p>
<div class="math notranslate nohighlight">
\[\Delta E^{n+1} = \Delta E^n + \sum_{k=0}^{n_{\mathsf{rf}}-1}{e V_k^n \sin{\left(\omega_{\mathsf{rf,k}}^n \Delta t^n + \phi_{\mathsf{rf,k}}^n \right)}} - (E_s^{n+1} - E_s^n)\]</div>
</dd></dl>

<dl class="method">
<dt id="blond.trackers.tracker.RingAndRFTracker.rf_voltage_calculation">
<code class="descname">rf_voltage_calculation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.tracker.RingAndRFTracker.rf_voltage_calculation" title="Permalink to this definition">¶</a></dt>
<dd><p>Function calculating the total, discretised RF voltage seen by the
beam at a given turn. Requires a Profile object.</p>
</dd></dl>

<dl class="method">
<dt id="blond.trackers.tracker.RingAndRFTracker.track">
<code class="descname">track</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.tracker.RingAndRFTracker.track" title="Permalink to this definition">¶</a></dt>
<dd><p>Tracking method for the section. Applies first the kick, then the
drift. Calls also RF/beam feedbacks if applicable. Updates the counter
of the corresponding RFStation class and the energy-related variables
of the Beam class.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-blond.trackers.utilities">
<span id="utilities-module"></span><h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">utilities</span></code> Module<a class="headerlink" href="#module-blond.trackers.utilities" title="Permalink to this headline">¶</a></h2>
<p><strong>Utilities to calculate Hamiltonian, separatrix, total voltage for the full ring.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body"><strong>Danilo Quartullo</strong>, <strong>Helga Timko</strong>, <strong>Alexandre Lasheen</strong></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="blond.trackers.utilities.hamiltonian">
<code class="descclassname">blond.trackers.utilities.</code><code class="descname">hamiltonian</code><span class="sig-paren">(</span><em>Ring</em>, <em>RFStation</em>, <em>Beam</em>, <em>dt</em>, <em>dE</em>, <em>total_voltage=None</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.hamiltonian" title="Permalink to this definition">¶</a></dt>
<dd><p>Single RF sinusoidal Hamiltonian.
For the time being, for single RF section only or from total voltage.
Uses beta, energy averaged over the turn.
To be generalized.</p>
</dd></dl>

<dl class="function">
<dt id="blond.trackers.utilities.is_in_separatrix">
<code class="descclassname">blond.trackers.utilities.</code><code class="descname">is_in_separatrix</code><span class="sig-paren">(</span><em>Ring</em>, <em>RFStation</em>, <em>Beam</em>, <em>dt</em>, <em>dE</em>, <em>total_voltage=None</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.is_in_separatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Function checking whether coordinate pair(s) are inside the separatrix.
Uses the single-RF sinusoidal Hamiltonian.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Ring</strong> (<em>class</em>) – A Ring type class</li>
<li><strong>RFStation</strong> (<em>class</em>) – An RFStation type class</li>
<li><strong>Beam</strong> (<em>class</em>) – A Beam type class</li>
<li><strong>dt</strong> (<em>float array</em>) – Time coordinates of the particles to be checked</li>
<li><strong>dE</strong> (<em>float array</em>) – Energy coordinates of the particles to be checked</li>
<li><strong>total_voltage</strong> (<em>float array</em>) – Total voltage to be used if not single-harmonic RF</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True/False array for the given coordinates</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="blond.trackers.utilities.minmax_location">
<code class="descclassname">blond.trackers.utilities.</code><code class="descname">minmax_location</code><span class="sig-paren">(</span><em>x</em>, <em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.minmax_location" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Function to locate the minima and maxima of the f(x) numerical function.</em></p>
</dd></dl>

<dl class="function">
<dt id="blond.trackers.utilities.phase_modulo_above_transition">
<code class="descclassname">blond.trackers.utilities.</code><code class="descname">phase_modulo_above_transition</code><span class="sig-paren">(</span><em>phi</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.phase_modulo_above_transition" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Projects a phase array into the range -Pi/2 to +3*Pi/2.</em></p>
</dd></dl>

<dl class="function">
<dt id="blond.trackers.utilities.phase_modulo_below_transition">
<code class="descclassname">blond.trackers.utilities.</code><code class="descname">phase_modulo_below_transition</code><span class="sig-paren">(</span><em>phi</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.phase_modulo_below_transition" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Projects a phase array into the range -Pi/2 to +3*Pi/2.</em></p>
</dd></dl>

<dl class="function">
<dt id="blond.trackers.utilities.potential_well_cut">
<code class="descclassname">blond.trackers.utilities.</code><code class="descname">potential_well_cut</code><span class="sig-paren">(</span><em>time_potential</em>, <em>potential_array</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.potential_well_cut" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Function to cut the potential well in order to take only the separatrix
(several cases according to the number of min/max).</em></p>
</dd></dl>

<dl class="function">
<dt id="blond.trackers.utilities.separatrix">
<code class="descclassname">blond.trackers.utilities.</code><code class="descname">separatrix</code><span class="sig-paren">(</span><em>Ring</em>, <em>RFStation</em>, <em>dt</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.separatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to calculate the ideal separatrix without intensity effects.
For single or multiple RF systems. For the time being, multiple RF sections
are not yet implemented.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Ring</strong> (<em>class</em>) – A Ring type class</li>
<li><strong>RFStation</strong> (<em>class</em>) – An RFStation type class</li>
<li><strong>dt</strong> (<em>float array</em>) – Time coordinates the separatrix is to be calculated for</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Energy coordinates of the separatrix corresponding to dt</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="blond.trackers.utilities.synchrotron_frequency_distribution">
<code class="descclassname">blond.trackers.utilities.</code><code class="descname">synchrotron_frequency_distribution</code><span class="sig-paren">(</span><em>Beam</em>, <em>FullRingAndRF</em>, <em>main_harmonic_option='lowest_freq'</em>, <em>turn=0</em>, <em>TotalInducedVoltage=None</em>, <em>smoothOption=None</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Function to compute the frequency distribution of a distribution for a certain
RF system and optional intensity effects. The potential well (and induced
potential) are not updated by this function, thus it has to be called</em>
<strong>after</strong> <em>the potential well (and induced potential) generation.</em></p>
<p><em>If used with induced potential, be careful that noise can be an issue. An
analytical line density can be inputed by using the TotalInducedVoltage
option and passing the following parameters:</em></p>
<p>TotalInducedVoltage = beam_generation_output[1]</p>
<p><em>with beam_generation_output being the output of the
matched_from_line_density and matched_from_distribution_density functions
in the distribution module.</em></p>
<p><em>A smoothing function is included (running mean) in order to smooth
noise and numerical errors due to linear interpolation, the user can input the
number of pixels to smooth with smoothOption = N.</em></p>
<p><em>The particle distribution in synchrotron frequencies of the beam is also
outputed.</em></p>
</dd></dl>

<dl class="class">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker">
<em class="property">class </em><code class="descclassname">blond.trackers.utilities.</code><code class="descname">synchrotron_frequency_tracker</code><span class="sig-paren">(</span><em>Ring</em>, <em>n_macroparticles</em>, <em>theta_coordinate_range</em>, <em>FullRingAndRF</em>, <em>TotalInducedVoltage=None</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p><em>This class can be added to the tracking map to track a certain
number of particles (defined by the user) and to store the evolution
of their coordinates in phase space in order to compute their synchrotron
frequency as a function of their amplitude in theta.</em></p>
<p><em>As the time step between two turns can change with acceleration, make sure
that the momentum program is set to be constant when using this function,
or that beta_rel~1.</em></p>
<p><em>The user can input the minimum and maximum theta for the theta_coordinate_range
option as [min, max]. The input n_macroparticles will be generated with
linear spacing between these values. One can also input the theta_coordinate_range
as the coordinates of all particles, but the length of the array should
match the n_macroparticles value.</em></p>
<dl class="attribute">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.Beam">
<code class="descname">Beam</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.Beam" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Beam object containing the same physical information as the real beam,
but containing only the coordinates of the particles for which the
synchrotron frequency are computed.</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.FullRingAndRF">
<code class="descname">FullRingAndRF</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.FullRingAndRF" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Copy of the input FullRingAndRF object to retrieve the accelerator programs</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.TotalInducedVoltage">
<code class="descname">TotalInducedVoltage</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.TotalInducedVoltage" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Copy of the input TotalInducedVoltage object to retrieve the intensity effects
(the synchrotron_frequency_tracker particles are not contributing to the
induced voltage).</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.counter">
<code class="descname">counter</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.counter" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Tracking counter</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.dE_save">
<code class="descname">dE_save</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.dE_save" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Saving the dE coordinates of the particles while tracking</em></p>
</dd></dl>

<dl class="method">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.frequency_calculation">
<code class="descname">frequency_calculation</code><span class="sig-paren">(</span><em>n_sampling=100000</em>, <em>start_turn=None</em>, <em>end_turn=None</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.frequency_calculation" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Method to compute the fft of the particle oscillations in theta and dE
to obtain their synchrotron frequencies. The particles for which
the amplitude of oscillations is extending the minimum and maximum
theta from user input are considered to be lost and their synchrotron
frequencies are not calculated.</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.nTurns">
<code class="descname">nTurns</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.nTurns" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Number of turns of the simulation (+1 to include the input parameters)</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.n_macroparticles">
<code class="descname">n_macroparticles</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.n_macroparticles" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Number of macroparticles used in the synchrotron_frequency_tracker method</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.theta_save">
<code class="descname">theta_save</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.theta_save" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Saving the theta coordinates of the particles while tracking</em></p>
</dd></dl>

<dl class="attribute">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.timeStep">
<code class="descname">timeStep</code><em class="property"> = None</em><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.timeStep" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Revolution period in [s]</em></p>
</dd></dl>

<dl class="method">
<dt id="blond.trackers.utilities.synchrotron_frequency_tracker.track">
<code class="descname">track</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.synchrotron_frequency_tracker.track" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Method to track the particles with or without intensity effects.</em></p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="blond.trackers.utilities.time_modulo">
<code class="descclassname">blond.trackers.utilities.</code><code class="descname">time_modulo</code><span class="sig-paren">(</span><em>dt</em>, <em>dt_offset</em>, <em>T</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.time_modulo" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Returns dt projected onto the desired interval.</em></p>
</dd></dl>

<dl class="function">
<dt id="blond.trackers.utilities.total_voltage">
<code class="descclassname">blond.trackers.utilities.</code><code class="descname">total_voltage</code><span class="sig-paren">(</span><em>RFsection_list</em>, <em>harmonic='first'</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.trackers.utilities.total_voltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Total voltage from all the RF stations and systems in the ring.
To be generalized.</p>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="compile.html" class="btn btn-neutral float-right" title="compile Module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="toolbox.html" class="btn btn-neutral" title="toolbox Package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
   

</body>
</html>