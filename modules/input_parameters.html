

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>input_parameters Package &mdash; BLonD 1.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="BLonD 1.1 documentation" href="../index.html"/>
        <link rel="next" title="llrf Package" href="llrf.html"/>
        <link rel="prev" title="impedances Package" href="impedances.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> BLonD
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="equations_of_motion.html">Equations of Motion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#definitions">Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#energy-kick">Energy kick</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#arrival-time-drift">Arrival time drift</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#the-synchronous-particle">The synchronous particle</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#small-amplitude-oscillations">Small-amplitude oscillations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="equations_of_motion.html#tracking-utilities">Tracking utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#hamiltonian">Hamiltonian</a></li>
<li class="toctree-l2"><a class="reference internal" href="equations_of_motion.html#separatrix">Separatrix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="beam.html">beam Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.beam"><code class="docutils literal notranslate"><span class="pre">beam</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.coasting_beam"><code class="docutils literal notranslate"><span class="pre">coasting_beam</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.distributions"><code class="docutils literal notranslate"><span class="pre">distributions</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.distributions_multibunch"><code class="docutils literal notranslate"><span class="pre">distributions_multibunch</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.profile"><code class="docutils literal notranslate"><span class="pre">profile</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam.html#module-blond.beam.sparse_slices"><code class="docutils literal notranslate"><span class="pre">sparse_slices</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="impedances.html">impedances Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="impedances.html#module-blond.impedances.impedance"><code class="docutils literal notranslate"><span class="pre">impedance</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="impedances.html#module-blond.impedances.impedance_sources"><code class="docutils literal notranslate"><span class="pre">impedance_sources</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="impedances.html#module-blond.impedances.induced_voltage_analytical"><code class="docutils literal notranslate"><span class="pre">induced_voltage_analytical</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="impedances.html#module-blond.impedances.music"><code class="docutils literal notranslate"><span class="pre">music</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">input_parameters Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-blond.input_parameters.rf_parameters"><code class="docutils literal notranslate"><span class="pre">rf_parameters</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-blond.input_parameters.ring"><code class="docutils literal notranslate"><span class="pre">ring</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-blond.input_parameters.ring_options"><code class="docutils literal notranslate"><span class="pre">ring_options</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-blond.input_parameters.rf_parameters_options"><code class="docutils literal notranslate"><span class="pre">rf_parameters_options</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="llrf.html">llrf Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#module-blond.llrf.notch_filter"><code class="docutils literal notranslate"><span class="pre">notch_filter</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#llrf-beam-feedback-module">llrf.beam_feedback Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="llrf.html#machine-dependent-beam-phase-loop">Machine-dependent Beam Phase Loop</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#module-blond.llrf.cavity_feedback"><code class="docutils literal notranslate"><span class="pre">cavity_feedback</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#module-blond.llrf.impulse_response"><code class="docutils literal notranslate"><span class="pre">impulse_response</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#module-blond.llrf.rf_modulation"><code class="docutils literal notranslate"><span class="pre">rf_modulation</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#llrf-rf-noise-module">llrf.rf_noise Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="llrf.html#rf-phase-noise-generation">RF phase noise generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="llrf.html#lhc-type-phase-noise-generation">LHC-type phase noise generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="llrf.html#bunch-length-based-feedback-on-noise-amplitude">Bunch-length based feedback on noise amplitude</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="llrf.html#module-blond.llrf.signal_processing"><code class="docutils literal notranslate"><span class="pre">signal_processing</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="monitors.html">monitors Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="monitors.html#module-blond.monitors.monitors"><code class="docutils literal notranslate"><span class="pre">monitors</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plots.html">plots Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot"><code class="docutils literal notranslate"><span class="pre">plot</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot_beams"><code class="docutils literal notranslate"><span class="pre">plot_beams</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot_impedance"><code class="docutils literal notranslate"><span class="pre">plot_impedance</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot_llrf"><code class="docutils literal notranslate"><span class="pre">plot_llrf</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot_parameters"><code class="docutils literal notranslate"><span class="pre">plot_parameters</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html#module-blond.plots.plot_slices"><code class="docutils literal notranslate"><span class="pre">plot_slices</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="synchrotron_radiation.html">synchrotron_radiation Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="synchrotron_radiation.html#module-blond.synchrotron_radiation.synchrotron_radiation"><code class="docutils literal notranslate"><span class="pre">synchrotron_radiation</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="toolbox.html">toolbox Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.action"><code class="docutils literal notranslate"><span class="pre">action</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.convolution"><code class="docutils literal notranslate"><span class="pre">convolution</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.diffusion"><code class="docutils literal notranslate"><span class="pre">diffusion</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.next_regular"><code class="docutils literal notranslate"><span class="pre">next_regular</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.parameter_scaling"><code class="docutils literal notranslate"><span class="pre">parameter_scaling</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolbox.html#module-blond.toolbox.tomoscope"><code class="docutils literal notranslate"><span class="pre">tomoscope</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="trackers.html">trackers Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="trackers.html#module-blond.trackers.tracker"><code class="docutils literal notranslate"><span class="pre">tracker</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackers.html#module-blond.trackers.utilities"><code class="docutils literal notranslate"><span class="pre">utilities</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="compile.html">compile Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="compile.html#id1"><code class="docutils literal notranslate"><span class="pre">compile</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">utils Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utils.html#module-blond.utils.bmath"><code class="docutils literal notranslate"><span class="pre">bmath</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html#module-blond.utils.bphysics_wrap"><code class="docutils literal notranslate"><span class="pre">bphysics_wrap</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html#module-blond.utils.butils_wrap"><code class="docutils literal notranslate"><span class="pre">butils_wrap</span></code> Module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>
    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BLonD</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>input_parameters Package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/input_parameters.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="input-parameters-package">
<h1>input_parameters Package<a class="headerlink" href="#input-parameters-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-blond.input_parameters.rf_parameters">
<span id="rf-parameters-module"></span><h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">rf_parameters</span></code> Module<a class="headerlink" href="#module-blond.input_parameters.rf_parameters" title="Permalink to this headline">¶</a></h2>
<p><strong>Module gathering and processing all RF parameters used in the simulation.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body"><strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong>, <strong>Helga Timko</strong></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="blond.input_parameters.rf_parameters.RFStation">
<em class="property">class </em><code class="descclassname">blond.input_parameters.rf_parameters.</code><code class="descname">RFStation</code><span class="sig-paren">(</span><em>Ring</em>, <em>harmonic</em>, <em>voltage</em>, <em>phi_rf_d</em>, <em>n_rf=1</em>, <em>section_index=1</em>, <em>omega_rf=None</em>, <em>phi_noise=None</em>, <em>RFStationOptions=&lt;blond.input_parameters.rf_parameters_options.RFStationOptions object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class containing all the RF parameters for all the RF systems in one
ring segment or RF station.</p>
<p><strong>How to use RF programs:</strong></p>
<ul class="simple">
<li>For 1 RF system and constant values of V, h, or phi, input a single value</li>
<li>For 1 RF system and varying values of V, h, or phi, input an array of
n_turns+1 values</li>
<li>For several RF systems and constant values of V, h, or phi, input lists
of single values</li>
<li>For several RF systems and varying values of V, h, or phi, input lists
of arrays of n_turns+1 values</li>
<li>For pre-processing, pass a list of times-voltages, times-harmonics,
and/or times-phases for <strong>each</strong> RF system as a tuple
((time_1, voltage_1), (time_2, voltage_2), …)</li>
</ul>
<p>Optional: RF frequency other than the design frequency. In this case, need
to use a beam phase loop for correct RF phase!</p>
<p>Optional: empty RFStation (e.g. for machines with synchrotron radiation);
input voltage as 0.</p>
<p>The index <span class="math notranslate nohighlight">\(n\)</span> denotes time steps, <span class="math notranslate nohighlight">\(l\)</span> the index of the RF
systems in the section.</p>
<p><strong>N.B. for negative eta the RF phase has to be shifted by Pi w.r.t the time
reference.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Ring</strong> (<em>class</em>) – A Ring type class</li>
<li><strong>harmonic</strong> (<em>float</em><em> (</em><em>opt: float array/matrix</em><em>, </em><em>tuple of float array/matrix</em><em>)</em>) – Harmonic number of the RF system, <span class="math notranslate nohighlight">\(h_{l,n}\)</span> [1]. For input
options, see above</li>
<li><strong>voltage</strong> (<em>float</em><em> (</em><em>opt: float array/matrix</em><em>, </em><em>tuple of float array/matrix</em><em>)</em>) – RF cavity voltage as seen by the beam, <span class="math notranslate nohighlight">\(V_{l,n}\)</span> [V]. For input
options, see above</li>
<li><strong>phi_rf_d</strong> (<em>float</em><em> (</em><em>opt: float array/matrix</em><em>, </em><em>tuple of float array/matrix</em><em>)</em>) – Programmed/designed RF cavity phase,
<span class="math notranslate nohighlight">\(\phi_{d,l,n}\)</span> [rad]. For input options, see above</li>
<li><strong>n_rf</strong> (<em>int</em>) – Optional, Number of harmonic rf systems in the section <span class="math notranslate nohighlight">\(l\)</span>.
Becomes mandatory for several rf systems.</li>
<li><strong>section_index</strong> (<em>int</em>) – Optional, In case of several sections in the Ring object, this
specifies after which section the rf station is located (to get the
right momentum program etc.). Value should be in the range
1..Ring.n_sections</li>
<li><strong>omega_rf</strong> (<em>float</em><em> (</em><em>opt: float array/matrix</em><em>)</em>) – Optional, Sets the rf angular frequency program that does not follow
the harmonic condition. For input options, see above.</li>
<li><strong>phi_noise</strong> (<em>float</em><em> (</em><em>opt: float array/matrix</em><em>)</em>) – Optional, programmed RF cavity phase noise, <span class="math notranslate nohighlight">\(\phi_{N,l,n}\)</span> [rad].
Added to all RF systems in the station. For input options, see above</li>
<li><strong>RFStationOptions</strong> (<em>class</em>) – Optionnal, A RFStationOptions-based class defining smoothing,
interpolation, etc. options for harmonic, voltage, and/or
phi_rf_d programme to be interpolated to a turn-by-turn programme</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.counter">
<code class="descname">counter</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Counter of the current simulation time step; defined as a list in
order to be passed by reference</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.section_index">
<code class="descname">section_index</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.section_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique index <span class="math notranslate nohighlight">\(k\)</span> of the RF station the present class is defined
for. Input in the range 1..n_sections (see
<code class="xref py py-class docutils literal notranslate"><span class="pre">input_parameters.ring.Ring</span></code>).
Inside the code, indices 0..n_sections-1 are used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.Particle">
<code class="descname">Particle</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.Particle" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.Particle</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.n_turns">
<code class="descname">n_turns</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.n_turns" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.n_turns</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.ring_circumference">
<code class="descname">ring_circumference</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.ring_circumference" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.ring_circumference</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.section_length">
<code class="descname">section_length</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.section_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Length <span class="math notranslate nohighlight">\(L_k\)</span> of the RF section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.ring_length</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.length_ratio">
<code class="descname">length_ratio</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.length_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Fractional RF section length <span class="math notranslate nohighlight">\(L_k/C\)</span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.t_rev">
<code class="descname">t_rev</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.t_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.t_rev</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.momentum">
<code class="descname">momentum</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.momentum" title="Permalink to this definition">¶</a></dt>
<dd><p>Momentum program of the present RF section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.momentum</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.beta">
<code class="descname">beta</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Relativistic beta of the present RF section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.beta</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.gamma">
<code class="descname">gamma</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Relativistic gamma of the present RF section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.gamma</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.energy">
<code class="descname">energy</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Total energy of the present RF section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.energy</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.delta_E">
<code class="descname">delta_E</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.delta_E" title="Permalink to this definition">¶</a></dt>
<dd><p>Time derivative of total energy of the present section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.delta_E</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.alpha_order">
<code class="descname">alpha_order</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.alpha_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.alpha_order</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.charge">
<code class="descname">charge</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.charge" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">beam.Particle.charge</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.eta_0">
<code class="descname">eta_0</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.eta_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Zeroth order slippage factor of the present section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.eta_0</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.eta_1">
<code class="descname">eta_1</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.eta_1" title="Permalink to this definition">¶</a></dt>
<dd><p>First order slippage factor of the present section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.eta_1</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.eta_2">
<code class="descname">eta_2</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.eta_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Second order slippage factor of the present section; inherited from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">input_parameters.ring.Ring.eta_2</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.sign_eta_0">
<code class="descname">sign_eta_0</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.sign_eta_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Sign of the eta_0 array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.harmonic">
<code class="descname">harmonic</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.harmonic" title="Permalink to this definition">¶</a></dt>
<dd><p>Harmonic number for each rf system,
<span class="math notranslate nohighlight">\(h_{l,n}\)</span> [1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_rf, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.voltage">
<code class="descname">voltage</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.voltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Actual rf voltage of each harmonic system,
<span class="math notranslate nohighlight">\(V_{rf,l,n}\)</span> [V]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_rf, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.empty">
<code class="descname">empty</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag to specify if the RFStation is empty</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.phi_rf_d">
<code class="descname">phi_rf_d</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.phi_rf_d" title="Permalink to this definition">¶</a></dt>
<dd><p>Designed rf cavity phase of each harmonic system,
<span class="math notranslate nohighlight">\(\phi_{d,l,n}\)</span> [rad]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_rf, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.phi_rf">
<code class="descname">phi_rf</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.phi_rf" title="Permalink to this definition">¶</a></dt>
<dd><p>Actual RF cavity phase of each harmonic system used for tracking,
<span class="math notranslate nohighlight">\(\phi_{rf,l,n}\)</span> [rad]. Initially the same as the designed phase.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_rf, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.omega_rf_d">
<code class="descname">omega_rf_d</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.omega_rf_d" title="Permalink to this definition">¶</a></dt>
<dd><p>Design RF angular frequency of the RF systems in the station
<span class="math notranslate nohighlight">\(\omega_{d,l,n} = \frac{h_{l,n} \beta_{l,n} c}{R_{s,n}}\)</span> [Hz]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_rf, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.omega_rf">
<code class="descname">omega_rf</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.omega_rf" title="Permalink to this definition">¶</a></dt>
<dd><p>Actual RF angular frequency of the RF systems in the station
<span class="math notranslate nohighlight">\(\omega_{rf,l,n} = \frac{h_{l,n} \beta_{l,n} c}{R_{s,n}}\)</span> [Hz].
Initially the same as the designed angular frequency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_rf, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.phi_noise">
<code class="descname">phi_noise</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.phi_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Programmed cavity phase noise for each RF harmonic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">None or float matrix [n_rf, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.dphi_rf">
<code class="descname">dphi_rf</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.dphi_rf" title="Permalink to this definition">¶</a></dt>
<dd><p>Accumulated RF phase error of each harmonic system
<span class="math notranslate nohighlight">\(\Delta \phi_{rf,l,n}\)</span> [rad]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_rf]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.t_rf">
<code class="descname">t_rf</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.t_rf" title="Permalink to this definition">¶</a></dt>
<dd><p>RF period <span class="math notranslate nohighlight">\(\frac{2 \pi}{\omega_{rf,l,n}}\)</span> [s]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_rf, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.phi_s">
<code class="descname">phi_s</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.phi_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous phase for this section, calculated in
<code class="xref py py-func docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.calculate_phi_s()</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.Q_s">
<code class="descname">Q_s</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.Q_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchrotron tune for this section, calculated in
<code class="xref py py-func docutils literal notranslate"><span class="pre">input_parameters.rf_parameters.calculate_Q_s()</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.omega_s0">
<code class="descname">omega_s0</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.omega_s0" title="Permalink to this definition">¶</a></dt>
<dd><p>Central synchronous angular frequency corresponding to Q_s (single
harmonic, no intensity effects)
<span class="math notranslate nohighlight">\(\omega_{s,0} = Q_s \omega_{\text{rev}}\)</span> [1/s], where
<span class="math notranslate nohighlight">\(\omega_{\text{rev}}\)</span> is defined in
<code class="xref py py-class docutils literal notranslate"><span class="pre">input_parameters.ring.Ring</span></code>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.rf_parameters.RFStation.RFStationOptions">
<code class="descname">RFStationOptions</code><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.RFStationOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>The RFStationOptions is kept as an attribute of the RFStationg object
for further usage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="#blond.input_parameters.rf_parameters_options.RFStationOptions" title="blond.input_parameters.rf_parameters_options.RFStationOptions">RFStationOptions</a>()</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To declare a double-harmonic RF system for protons:</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_turns</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="mi">26659</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">3.21e-4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">momentum</span> <span class="o">=</span> <span class="mf">450e9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ring</span> <span class="o">=</span> <span class="n">Ring</span><span class="p">(</span><span class="n">n_turns</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">momentum</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rf_station</span> <span class="o">=</span> <span class="n">RFStation</span><span class="p">(</span><span class="n">ring</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">35640</span><span class="p">,</span> <span class="mi">71280</span><span class="p">],</span> <span class="p">[</span><span class="mf">6e6</span><span class="p">,</span> <span class="mf">6e5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<dl class="method">
<dt id="blond.input_parameters.rf_parameters.RFStation.eta_tracking">
<code class="descname">eta_tracking</code><span class="sig-paren">(</span><em>beam</em>, <em>counter</em>, <em>dE</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.rf_parameters.RFStation.eta_tracking" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to calculate the slippage factor as a function of the
energy offset <span class="math notranslate nohighlight">\(\Delta E\)</span> of the particle. The slippage factor
of the <span class="math notranslate nohighlight">\(i\)</span> th order is <span class="math notranslate nohighlight">\(\eta(\delta) = \sum_{i}(\eta_i \,
\delta^i) = \sum_{i} \left(\eta_i \, \left[ \frac{\Delta E}
{\beta_s^2 E_s} \right]^i \right)\)</span></p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="blond.input_parameters.rf_parameters.calculate_Q_s">
<code class="descclassname">blond.input_parameters.rf_parameters.</code><code class="descname">calculate_Q_s</code><span class="sig-paren">(</span><em>RFStation</em>, <em>Particle=&lt;blond.beam.beam.Proton object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.rf_parameters.calculate_Q_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Function calculating the turn-by-turn synchrotron tune for
single-harmonic RF, without intensity effects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>RFStation</strong> (<em>class</em>) – An RFStation type class.</li>
<li><strong>Particle</strong> (<em>class</em>) – A Particle type class; default is Proton().</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Synchrotron tune.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="blond.input_parameters.rf_parameters.calculate_phi_s">
<code class="descclassname">blond.input_parameters.rf_parameters.</code><code class="descname">calculate_phi_s</code><span class="sig-paren">(</span><em>RFStation</em>, <em>Particle=&lt;blond.beam.beam.Proton object&gt;</em>, <em>accelerating_systems='as_single'</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.rf_parameters.calculate_phi_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Function calculating the turn-by-turn synchronous phase according to
the parameters in the RFStation object. The phase is expressed in
the lowest RF harmonic and with respect to the RF bucket (see the equations
of motion defined for BLonD). The returned value is given in the range [0,
2*Pi]. Below transition, the RF wave is shifted by Pi w.r.t. the time
reference.</p>
<p>The accelerating_systems option can be set to</p>
<ul class="simple">
<li>‘as_single’ (default): the synchronous phase is calculated analytically
taking into account the phase program (RFStation.phi_offset).</li>
<li>‘all’: the synchronous phase is calculated numerically by finding the
minimum of the potential well; no intensity effects included. In case of
several minima, the deepest is taken. <strong>WARNING:</strong> in case of RF
harmonics with comparable voltages, this may lead to inconsistent
values of phi_s.</li>
<li>‘first’: not yet implemented. Its purpose should be to adjust the
RFStation.phi_offset of the higher harmonics so that only the
main harmonic is accelerating.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>RFStation</strong> (<em>class</em>) – An RFStation type class.</li>
<li><strong>Particle</strong> (<em>class</em>) – A Particle type class; default is Proton().</li>
<li><strong>accelerating_systems</strong> (<em>str</em>) – Choice of accelerating systems; or options, see list above.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Synchronous phase.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-blond.input_parameters.ring">
<span id="ring-module"></span><h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">ring</span></code> Module<a class="headerlink" href="#module-blond.input_parameters.ring" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>Module gathering all general input parameters used for the simulation.</strong></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body"><strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong>, <strong>Helga Timko</strong></td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="class">
<dt id="blond.input_parameters.ring.Ring">
<em class="property">class </em><code class="descclassname">blond.input_parameters.ring.</code><code class="descname">Ring</code><span class="sig-paren">(</span><em>ring_length</em>, <em>alpha_0</em>, <em>synchronous_data</em>, <em>Particle</em>, <em>n_turns=1</em>, <em>synchronous_data_type='momentum'</em>, <em>bending_radius=None</em>, <em>n_sections=1</em>, <em>alpha_1=None</em>, <em>alpha_2=None</em>, <em>RingOptions=&lt;blond.input_parameters.ring_options.RingOptions object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.ring.Ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class containing the general properties of the synchrotron that are
independent of the RF system or the beam.</p>
<p>The index <span class="math notranslate nohighlight">\(n\)</span> denotes time steps, <span class="math notranslate nohighlight">\(k\)</span> ring segments/sections
and <span class="math notranslate nohighlight">\(i\)</span> momentum compaction orders.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ring_length</strong> (<em>float</em><em> (</em><em>opt: float array</em><em> [</em><em>n_sections</em><em>]</em><em>)</em>) – Length [m] of the n_sections ring segments of the synchrotron.
An RF station, a synchrotron radiation kick, and/or an impedance kick
can be included at the end of each ring section.</li>
<li><strong>alpha_0</strong> (<em>float</em><em> (</em><em>opt: float array/matrix</em><em> [</em><em>n_sections</em><em>, </em><em>n_turns+1</em><em>]</em><em>)</em>) – Momentum compaction factor of zeroth order <span class="math notranslate nohighlight">\(\alpha_{0,k,i}\)</span> [1];
can be input as single float or as a program of (n_turns + 1) turns
(should be of the same size as synchronous_data).
In case of higher order momentum compaction, check the
documentation for the inputs: alpha_order, alpha_1, alpha_2</li>
<li><strong>synchronous_data</strong> (<em>float</em><em> (</em><em>opt: float array/matrix</em><em> [</em><em>n_sections</em><em>, </em><em>n_turns+1</em><em>]</em><em>)</em>) – Design synchronous particle momentum (default) [eV], kinetic or
total energy [eV] or bending field [T] on the design orbit.
Input for each RF section <span class="math notranslate nohighlight">\(p_{s,k,n}\)</span>.
Can be input as a single constant float, or as a
program of (n_turns + 1) turns. In case of several sections without
acceleration, input: [[momentum_section_1], [momentum_section_2],
etc.]. In case of several sections with acceleration, input:
[momentum_program_section_1, momentum_program_section_2, etc.]. Can
be input also as a tuple of time and momentum, see also
‘cycle_time’ and ‘PreprocessRamp’</li>
<li><strong>Particle</strong> (<em>class</em>) – A Particle-based class defining the primary, synchronous particle (mass
and charge) that is reference for the momentum/energy in the ring.</li>
<li><strong>n_turns</strong> (<em>int</em>) – Optional: Number of turns <span class="math notranslate nohighlight">\(n\)</span> [1] to be simulated.
If a synchronous_data program is passed as a tuple (see below),
the number of turns will be overwritten depending on the length in time
of the program</li>
<li><strong>synchronous_data_type</strong> (<em>str</em>) – Optional: Choice of ‘synchronous_data’ type; can be ‘momentum’
(default), ‘total energy’, ‘kinetic energy’ or ‘bending field’
(requires bending_radius to be defined)</li>
<li><strong>bending_radius</strong> (<em>float</em>) – Optional: Radius [m] of the bending magnets,
required if ‘bending field’ is set for the synchronous_data_type</li>
<li><strong>n_sections</strong> (<em>int</em>) – Optional: number of ring sections/segments; default is 1</li>
<li><strong>alpha_1</strong> (<em>float</em><em> (</em><em>opt: float array/matrix</em><em> [</em><em>n_sections</em><em>, </em><em>n_turns+1</em><em>]</em><em>)</em>) – Momentum compaction factor of first order
<span class="math notranslate nohighlight">\(\alpha_{1,k,i}\)</span> [1]; can be input as single float or as a
program of (n_turns + 1) turns (should be of the same size as
synchronous_data and alpha_0).</li>
<li><strong>alpha_2</strong> (<em>float</em><em> (</em><em>opt: float array/matrix</em><em> [</em><em>n_sections</em><em>, </em><em>n_turns+1</em><em>]</em><em>)</em>) – Optional : Momentum compaction factor of second order
<span class="math notranslate nohighlight">\(\alpha_{2,k,i}\)</span> [1]; can be input as single float or as a
program of (n_turns + 1) turns (should be of the same size as
synchronous_data and alpha_0).</li>
<li><strong>RingOptions</strong> (<em>class</em>) – Optional : A RingOptions-based class with default options to check the
input and initialize the momentum program for the simulation.
This object defines the interpolation scheme, plotting options, etc.
The options for this object can be adjusted and passed to the Ring
object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.ring_circumference">
<code class="descname">ring_circumference</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.ring_circumference" title="Permalink to this definition">¶</a></dt>
<dd><p>Circumference of the synchrotron. Sum of ring segment lengths,
<span class="math notranslate nohighlight">\(C = \sum_k L_k\)</span> [m]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.ring_radius">
<code class="descname">ring_radius</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.ring_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Radius of the synchrotron, <span class="math notranslate nohighlight">\(R = C/(2 \pi)\)</span> [m]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.bending_radius">
<code class="descname">bending_radius</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.bending_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Bending radius in dipole magnets, <span class="math notranslate nohighlight">\(\rho\)</span> [m]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.alpha_order">
<code class="descname">alpha_order</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.alpha_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of orders of the momentum compaction factor (from 0 to 2)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.eta_0">
<code class="descname">eta_0</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.eta_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Zeroth order slippage factor <span class="math notranslate nohighlight">\(\eta_{0,k,n} = \alpha_{0,k,n} -
\frac{1}{\gamma_{s,k,n}^2}\)</span> [1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_sections, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.eta_1">
<code class="descname">eta_1</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.eta_1" title="Permalink to this definition">¶</a></dt>
<dd><p>First order slippage factor <span class="math notranslate nohighlight">\(\eta_{1,k,n} =
\frac{3\beta_{s,k,n}^2}{2\gamma_{s,k,n}^2} + \alpha_{1,k,n} -
\alpha_{0,k,n}\eta_{0,k,n}\)</span> [1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_sections, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.eta_2">
<code class="descname">eta_2</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.eta_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Second order slippage factor <span class="math notranslate nohighlight">\(\eta_{2,k,n} =
-\frac{\beta_{s,k,n}^2\left(5\beta_{s,k,n}^2-1\right)}
{2\gamma_{s,k,n}^2} + \alpha_{2,k,n} - 2\alpha_{0,k,n}\alpha_{1,k,n}
+ \frac{\alpha_{1,k,n}}{\gamma_{s,k,n}^2} + \alpha_{0,k}^2\eta_{0,k,n}
- \frac{3\beta_{s,k,n}^2\alpha_{0,k,n}}{2\gamma_{s,k,n}^2}\)</span> [1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_sections, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.momentum">
<code class="descname">momentum</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.momentum" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous relativistic momentum on the design orbit <span class="math notranslate nohighlight">\(p_{s,k,n}\)</span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_sections, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.beta">
<code class="descname">beta</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous relativistic beta program for each segment of the
ring <span class="math notranslate nohighlight">\(\beta_{s,k}^n = \frac{1}{\sqrt{1
+ \left(\frac{m}{p_{s,k,n}}\right)^2} }\)</span> [1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_sections, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.gamma">
<code class="descname">gamma</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous relativistic gamma program for each segment of the ring
<span class="math notranslate nohighlight">\(\gamma_{s,k,n} = \sqrt{ 1
+ \left(\frac{p_{s,k,n}}{m}\right)^2 }\)</span> [1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_sections, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.energy">
<code class="descname">energy</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous total energy program for each segment of the ring
<span class="math notranslate nohighlight">\(E_{s,k,n} = \sqrt{ p_{s,k,n}^2 + m^2 }\)</span> [eV]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_sections, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.kin_energy">
<code class="descname">kin_energy</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.kin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronous kinetic energy program for each segment of the ring
<span class="math notranslate nohighlight">\(E_{s,kin} = \sqrt{ p_{s,k,n}^2 + m^2 } - m\)</span> [eV]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_sections, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.delta_E">
<code class="descname">delta_E</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.delta_E" title="Permalink to this definition">¶</a></dt>
<dd><p>Derivative of synchronous total energy w.r.t. time, for all sections,
<span class="math notranslate nohighlight">\(: \quad E_{s,k,n+1}- E_{s,k,n}\)</span> [eV]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float matrix [n_sections, n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.t_rev">
<code class="descname">t_rev</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.t_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution period turn by turn.
<span class="math notranslate nohighlight">\(T_{0,n} = \frac{C}{\beta_{s,n} c}\)</span> [s]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.f_rev">
<code class="descname">f_rev</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.f_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution frequency <span class="math notranslate nohighlight">\(f_{0,n} = \frac{1}{T_{0,n}}\)</span> [Hz]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.omega_rev">
<code class="descname">omega_rev</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.omega_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution angular frequency <span class="math notranslate nohighlight">\(\omega_{0,n} = 2\pi f_{0,n}\)</span> [1/s]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.cycle_time">
<code class="descname">cycle_time</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.cycle_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Cumulative cycle time, turn by turn, <span class="math notranslate nohighlight">\(t_n = \sum_n T_{0,n}\)</span> [s].
Possibility to extract cycle parameters at these moments using
‘parameters_at_time’.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float array [n_turns+1]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">alpha_order</code></dt>
<dd><p>Highest order of momentum compaction (as defined by the input). Can
be 0,1,2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="blond.input_parameters.ring.Ring.RingOptions">
<code class="descname">RingOptions</code><a class="headerlink" href="#blond.input_parameters.ring.Ring.RingOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>The RingOptions is kept as an attribute of the Ring object for further
usage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="#blond.input_parameters.ring_options.RingOptions" title="blond.input_parameters.ring_options.RingOptions">RingOptions</a>()</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To declare a single-section synchrotron at constant energy:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Particle type Proton</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">beam.beam</span> <span class="k">import</span> <span class="n">Proton</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">input_parameters.ring</span> <span class="k">import</span> <span class="n">Ring</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_turns</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="mi">26659</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_0</span> <span class="o">=</span> <span class="mf">3.21e-4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">momentum</span> <span class="o">=</span> <span class="mf">450e9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ring</span> <span class="o">=</span> <span class="n">Ring</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">alpha_0</span><span class="p">,</span> <span class="n">momentum</span><span class="p">,</span> <span class="n">Proton</span><span class="p">(),</span> <span class="n">n_turns</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To declare a two section synchrotron at constant energy and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># higher-order momentum compaction factors; particle Electron:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">beam.beam</span> <span class="k">import</span> <span class="n">Electron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">input_parameters.ring</span> <span class="k">import</span> <span class="n">Ring</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_turns</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="p">[</span><span class="mi">13000</span><span class="p">,</span> <span class="mi">13659</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_0</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">3.21e-4</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.89e-4</span><span class="p">]]</span>  <span class="c1"># or [3.21e-4, 2.89e-4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_1</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">2.e-5</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.e-5</span><span class="p">]]</span>  <span class="c1"># or [2.e-5, 1.e-5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_2</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">5.e-7</span><span class="p">],</span> <span class="p">[</span><span class="mf">5.e-7</span><span class="p">]]</span>  <span class="c1"># or [5.e-7, 5.e-7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">momentum</span> <span class="o">=</span> <span class="mf">450e9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ring</span> <span class="o">=</span> <span class="n">Ring</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">alpha_0</span><span class="p">,</span> <span class="n">momentum</span><span class="p">,</span> <span class="n">Electron</span><span class="p">(),</span> <span class="n">n_turns</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">alpha_1</span><span class="o">=</span><span class="n">alpha_1</span><span class="p">,</span> <span class="n">alpha_2</span><span class="o">=</span><span class="n">alpha_2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="blond.input_parameters.ring.Ring.eta_generation">
<code class="descname">eta_generation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.ring.Ring.eta_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to generate the slippage factors (zeroth, first, and
second orders, see <a class="footnote-reference" href="#id2" id="id1">[1]</a>) from the momentum compaction and the
relativistic beta and gamma program through the cycle.</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>“Accelerator Physics,” S. Y. Lee, World Scientific,
Third Edition, 2012.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="blond.input_parameters.ring.Ring.parameters_at_time">
<code class="descname">parameters_at_time</code><span class="sig-paren">(</span><em>cycle_moments</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.ring.Ring.parameters_at_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to return various cycle parameters at a specific moment in
time. The cycle time is defined to start at zero in turn zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cycle_moments</strong> (<em>float array</em>) – Moments of time at which cycle parameters are to be calculated [s].</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>parameters</strong> – Contains ‘momentum’, ‘beta’, ‘gamma’, ‘energy’, ‘kin_energy’,
‘f_rev’, ‘t_rev’. ‘omega_rev’, ‘eta_0’, and ‘delta_E’ interpolated
to the moments contained in the ‘cycle_moments’ array</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-blond.input_parameters.ring_options">
<span id="ring-options-module"></span><h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">ring_options</span></code> Module<a class="headerlink" href="#module-blond.input_parameters.ring_options" title="Permalink to this headline">¶</a></h2>
<p><strong>Function(s) for pre-processing input data</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body"><strong>Helga Timko</strong>, <strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong>,
<strong>Simon Albright</strong></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="blond.input_parameters.ring_options.RingOptions">
<em class="property">class </em><code class="descclassname">blond.input_parameters.ring_options.</code><code class="descname">RingOptions</code><span class="sig-paren">(</span><em>interpolation='linear'</em>, <em>smoothing=0</em>, <em>flat_bottom=0</em>, <em>flat_top=0</em>, <em>t_start=None</em>, <em>t_end=None</em>, <em>plot=False</em>, <em>figdir='fig'</em>, <em>figname='preprocess_ramp'</em>, <em>sampling=1</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.ring_options.RingOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to preprocess the synchronous data for Ring, interpolating it to
every turn.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>interpolation</strong> (<em>str</em>) – Interpolation options for the data points. Available options are
‘linear’ (default), ‘cubic’, and ‘derivative’</li>
<li><strong>smoothing</strong> (<em>float</em>) – Smoothing value for ‘cubic’ interpolation</li>
<li><strong>flat_bottom</strong> (<em>int</em>) – Number of turns to be added on flat bottom; default is 0. Constant
extrapolation is used for the synchronous data</li>
<li><strong>flat_top</strong> (<em>int</em>) – Number of turns to be added on flat top; default is 0. Constant
extrapolation is used for the synchronous data</li>
<li><strong>t_start</strong> (<em>int</em>) – Starting index from which the time array input should be taken into
account; default is 0</li>
<li><strong>t_end</strong> (<em>int</em>) – Last index up to which the time array input should be taken into
account; default is -1</li>
<li><strong>plot</strong> (<em>bool</em>) – Option to plot interpolated arrays; default is False</li>
<li><strong>figdir</strong> (<em>str</em>) – Directory to save optional plot; default is ‘fig’</li>
<li><strong>figname</strong> (<em>str</em>) – Figure name to save optional plot; default is ‘preprocess_ramp’</li>
<li><strong>sampling</strong> (<em>int</em>) – Decimation value for plotting; default is 1</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="blond.input_parameters.ring_options.RingOptions.preprocess">
<code class="descname">preprocess</code><span class="sig-paren">(</span><em>mass</em>, <em>circumference</em>, <em>time</em>, <em>momentum</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.ring_options.RingOptions.preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to pre-process acceleration ramp data, interpolating it to
every turn. Currently it works only if the number of RF sections is
equal to one, to be extended for multiple RF sections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mass</strong> (<em>float</em>) – Particle mass [eV]</li>
<li><strong>circumference</strong> (<em>float</em>) – Ring circumference [m]</li>
<li><strong>time</strong> (<em>float array</em>) – Time points [s] corresponding to momentum data</li>
<li><strong>momentum</strong> (<em>float array</em>) – Particle momentum [eV/c]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>float array</em> – Cumulative time [s]</li>
<li><em>float array</em> – Interpolated momentum [eV/c]</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="blond.input_parameters.ring_options.RingOptions.reshape_data">
<code class="descname">reshape_data</code><span class="sig-paren">(</span><em>input_data</em>, <em>n_turns</em>, <em>n_sections</em>, <em>interp_time='t_rev'</em>, <em>input_is_momentum=False</em>, <em>synchronous_data_type='momentum'</em>, <em>mass=None</em>, <em>charge=None</em>, <em>circumference=None</em>, <em>bending_radius=None</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.ring_options.RingOptions.reshape_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the user input is consistent with the expectation
for the Ring object. The possibilites are detailed in the documentation
of the Ring object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_data</strong> (<em>Ring.synchronous_data</em><em>, </em><em>Ring.alpha_0</em><em>,</em><em>1</em><em>,</em><em>2</em>) – Main input data to reshape</li>
<li><strong>n_turns</strong> (<em>Ring.n_turns</em>) – Number of turns the simulation should be. Note that if
the input_data is passed as a tuple it is expected that the
input_data is a program. Hence, the number of turns may not
correspond to the input one and will be overwritten</li>
<li><strong>n_sections</strong> (<em>Ring.n_sections</em>) – The number of sections of the ring. The simulation is stopped
if the input_data shape does not correspond to the expected number
of sections.</li>
<li><strong>interp_time</strong> (<em>str</em><em> or </em><em>float</em><em> or </em><em>float array</em><em> [</em><em>n_turns+1</em><em>]</em>) – Optional : defines the time on which the program will be
interpolated. If ‘t_rev’ is passed and if the input_data is
momentum (see input_is_momentum option) the momentum program
is interpolated on the revolution period (see preprocess()
function). If a float or a float array is passed, the program
is interpolated on that input ; default is ‘t_rev’</li>
<li><strong>input_is_momentum</strong> (<em>bool</em>) – Optional : flags if the input_data is the momentum program, the
options defined below become necessary for conversion</li>
<li><strong>synchronous_data_type</strong> (<em>str</em>) – Optional : to be passed to the convert_data function if
input_is_momentum ; default is ‘momentum’</li>
<li><strong>mass</strong> (<em>Ring.Particle.mass</em>) – Optional : the mass of the particles in [eV/c**2] ; default is None</li>
<li><strong>charge</strong> (<em>Ring.Particle.charge</em>) – Optional : the charge of the particles in units of [e] ;
default is None</li>
<li><strong>circumference</strong> (<em>Ring.circumference</em>) – Optional : the circumference of the ring ; default is None</li>
<li><strong>bending_radius</strong> (<em>Ring.bending_radis</em>) – Optional : the bending radius of magnets ; default is None</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Returns the data with the adequate shape for the Ring object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">output_data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="blond.input_parameters.ring_options.convert_data">
<code class="descclassname">blond.input_parameters.ring_options.</code><code class="descname">convert_data</code><span class="sig-paren">(</span><em>synchronous_data</em>, <em>mass</em>, <em>charge</em>, <em>synchronous_data_type='momentum'</em>, <em>bending_radius=None</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.ring_options.convert_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to convert synchronous data (i.e. energy program of the
synchrotron) into momentum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>synchronous_data</strong> (<em>float array</em>) – The synchronous data to be converted to momentum</li>
<li><strong>mass</strong> (<em>float</em><em> or </em><em>Particle.mass</em>) – The mass of the particles in [eV/c**2]</li>
<li><strong>charge</strong> (<em>int</em><em> or </em><em>Particle.charge</em>) – The charge of the particles in units of [e]</li>
<li><strong>synchronous_data_type</strong> (<em>str</em>) – Type of input for the synchronous data ; can be ‘momentum’,
‘total energy’, ‘kinetic energy’ or ‘bending field’ (last case
requires bending_radius to be defined)</li>
<li><strong>bending_radius</strong> (<em>float</em>) – Bending radius in [m] in case synchronous_data_type is
‘bending field’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>momentum</strong> – The input synchronous_data converted into momentum [eV/c]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="blond.input_parameters.ring_options.load_data">
<code class="descclassname">blond.input_parameters.ring_options.</code><code class="descname">load_data</code><span class="sig-paren">(</span><em>filename</em>, <em>ignore=0</em>, <em>delimiter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.ring_options.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to load column-by-column data from a txt file to numpy
arrays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>str</em>) – Name of the file containing the data.</li>
<li><strong>ignore</strong> (<em>int</em>) – Number of lines to ignore from the head of the file.</li>
<li><strong>delimiter</strong> (<em>str</em>) – Delimiting character between columns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Input data, column by column.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of arrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-blond.input_parameters.rf_parameters_options">
<span id="rf-parameters-options-module"></span><h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">rf_parameters_options</span></code> Module<a class="headerlink" href="#module-blond.input_parameters.rf_parameters_options" title="Permalink to this headline">¶</a></h2>
<p><strong>Function(s) for pre-processing input data</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body"><strong>Helga Timko</strong>, <strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong>,
<strong>Simon Albright</strong></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="blond.input_parameters.rf_parameters_options.RFStationOptions">
<em class="property">class </em><code class="descclassname">blond.input_parameters.rf_parameters_options.</code><code class="descname">RFStationOptions</code><span class="sig-paren">(</span><em>interpolation='linear', smoothing=0, plot=False, figdir='fig', figname=['data'], sampling=1</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.rf_parameters_options.RFStationOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to preprocess the RF data (voltage, phase, harmonic) for
RFStation, interpolating it to every turn.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>interpolation</strong> (<em>str</em>) – Interpolation options for the data points. Available options are
‘linear’ (default) and ‘cubic’</li>
<li><strong>smoothing</strong> (<em>float</em>) – Smoothing value for ‘cubic’ interpolation</li>
<li><strong>plot</strong> (<em>bool</em>) – Option to plot interpolated arrays; default is False</li>
<li><strong>figdir</strong> (<em>str</em>) – Directory to save optional plot; default is ‘fig’</li>
<li><strong>figname</strong> (<em>list of str</em>) – Figure name to save optional plot; default is ‘data’, different arrays
will have figures with different indices</li>
<li><strong>sampling</strong> (<em>int</em>) – Decimation value for plotting; default is 1</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="blond.input_parameters.rf_parameters_options.RFStationOptions.reshape_data">
<code class="descname">reshape_data</code><span class="sig-paren">(</span><em>input_data</em>, <em>n_turns</em>, <em>n_rf</em>, <em>interp_time</em>, <em>t_start=0</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.rf_parameters_options.RFStationOptions.reshape_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the user input is consistent with the expectation
for the RFStation object. The possibilites are detailed in the
documentation of the RFStation object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_data</strong> (<em>Ring.synchronous_data</em><em>, </em><em>Ring.alpha_0</em><em>,</em><em>1</em><em>,</em><em>2</em>) – Main input data to reshape</li>
<li><strong>n_turns</strong> (<em>RFStation.n_turns</em>) – Number of turns the simulation should be. Note that if
the input_data is passed as a tuple it is expected that the
input_data is a program. This parameter is only relevant if the
rf program is passed as an array/list with the rigth size
(see interp_time otherwise)</li>
<li><strong>n_rf</strong> (<em>RFStation.n_rf</em>) – The number of rf harmonics in the station. The simulation is
stopped if the input_data shape does not correspond to the expected
number of rf harmonics.</li>
<li><strong>interp_time</strong> (<em>Ring.cycle_time</em>) – Ensure that the rf program is interpolated on the same time basis
as the Ring.momentum program</li>
<li><strong>t_start</strong> (<em>Ring.RingOptions.t_start</em><em> or </em><em>float</em>) – Uses the same t_start as the one used to interpolate the momentum
program in Ring. This value can nevertheless be changed to a custom
value if necessary.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Returns the data with the adequate shape for the RStation object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">output_data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="blond.input_parameters.rf_parameters_options.combine_rf_functions">
<code class="descclassname">blond.input_parameters.rf_parameters_options.</code><code class="descname">combine_rf_functions</code><span class="sig-paren">(</span><em>function_list</em>, <em>merge_type='linear'</em>, <em>resolution=0.001</em>, <em>Ring=None</em>, <em>main_h=True</em><span class="sig-paren">)</span><a class="headerlink" href="#blond.input_parameters.rf_parameters_options.combine_rf_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to combine different RF programs. Each program is passed in a
tuple with complete function (single valued or numpy array) and 2-list
[start_time, stop_time].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>function_list</strong> (<em>list of tuples</em>) – each tuple has form (function, [start_time, stop_time])
function can be a numpy.ndarray of format [time, value] or single valued
if function is single valued it will be assumed constant from start_time to stop_time
if function is numpy.ndarray it will be truncated to start_time, stop_time</li>
<li><strong>merge_type</strong> (<em>str</em>) – <dl class="docutils">
<dt>string signifying type of merge available, options are:</dt>
<dd>linear : function will be linearly interpolated from function_1[stop_time] to function_2[start_time]
isoadiabatic : designed for voltage functions and intended to maintain adiabaticity during change of voltage, best suited to flat momentum sections
linear_tune : for use with voltages, provides a linear change in the tune from function_1[stop_time] to function_2[start_time]</dd>
</dl>
</li>
<li><strong>resolution</strong> (<em>float</em>) – the time in seconds between points of the interpolation</li>
<li><strong>Ring</strong> (<em>class</em>) – A Ring type class, only used with linear_tune merge_type</li>
<li><strong>main_h</strong> (<em>boolean</em>) – if main_h is True dE is considered in linear_tune merge_type, otherwise dE is set to 0</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">2 dimensional numpy.ndarray containing [time, value] of merged functions</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="llrf.html" class="btn btn-neutral float-right" title="llrf Package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="impedances.html" class="btn btn-neutral" title="impedances Package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
   

</body>
</html>